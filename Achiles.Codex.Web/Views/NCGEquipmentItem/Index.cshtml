
@using Achiles.Codex.Web.Misc
@model IEnumerable<Achiles.Codex.Model.NcgEquipmentItem>

<h2>Non-Cobat Equipment Items</h2>
<p class="text-muted">
    Non-Combat Equipment Items - Special items used in non-cobat situations. See also: Non-Cobat Gear Rules
</p>
<hr />


@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    <div class="row">
        <div class="col-xs-2">
            <input type="text" class="form-control" id="filterAttributes" placeholder="fillter">
        </div>
        <div class="col-xs-2">
            @if (User.IsContributor()) //only contributors can add new attribute
            {<a class="btn btn-default" href="#" title="Add new non-combat equipment item">
                <span class="glyphicon glyphicon-plus-sign"></span> New Equipment Item
            </a>}
        </div>
    </div>
</p>


















@*@section scripts
{
    <script type="text/javascript">

        $(document).ready(function(){
            $(".panel-heading").tooltip();
            $("a").tooltip();
        });

        var nameContainer = $('#attribute_name');
        var deleteLink = $('#delete_link');

        $('#confirm_delete').on('show.bs.modal', function(a, b) {
            var $this = $(a.relatedTarget);
            var id = $this.attr('data-delete-id');
            var name = $this.attr('data-delete-name');

            nameContainer.text(name);
            deleteLink.attr('href', '@Url.Action("Delete", "Attributes")' + '/' + id );

        });

        $(".panel-body").hide(0); //close all panels
        $(".panel-footer").hide(0); //close all panel footers
        $(".panel-heading").click(function () { //display panel contents on click
            $(this).parent().children(".panel-body").toggle(400);
            $(this).parent().children(".panel-footer").toggle(400);
        });

        $("#filterAttributes").keyup(function () { //Filter by attribute name
            var str = $(this).val().toLowerCase();
            console.log(str);
            for (var i = 0; i < @Model.Count(); i++) {
                var attributeLabel = $("#attributePanel" + i).children(".panel-heading").children(".attributeName").html().toLowerCase();
                if(attributeLabel.indexOf(str) == -1) {
                    $("#attributePanel" + i).hide(100);
                } else {
                    $("#attributePanel" + i).show(100);
                }
            }
        });to

    </script>
}*@